<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>الصفحة الرئيسية</title>
 <link rel="icon" href="C:\Users\20101\Desktop\مشروع\gauge.png" type="image/png">
   <style>
    /* تنسيق الصفحة */
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background-color: #f9fafb;
        direction: rtl;
        font-size: 18px;
        text-align: center;
        color: #333;
        transition: background-color 0.3s ease, color 0.3s ease;
    }

    /* وضع الدارك مود */
    body.dark-mode {
        background-color: #1e1e2f;
        color: #f1f1f1;
    }

    /* تنسيق الرأس */
    header {
        background: linear-gradient(90deg, #0066cc, #005bb5);
        color: white;
        padding: 20px;
        font-size: 26px;
        font-weight: bold;
        text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
    }

    /* زر القائمة */
    .menu-btn {
        position: fixed;
        top: 8px;
        right: 16px;
        background: #005bb5;
        color: white;
        padding: 12px 24px;
        border: none;
        border-radius: 6px;
        font-size: 16px;
        cursor: pointer;
        font-weight: bold;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
        transition: background-color 0.3s ease;
    }

    .menu-btn:hover {
        background: #004b9c;
    }

    /* زر الوضع الداكن */
    .toggle-dark-mode {
        position: fixed;
        top: 16px;
        left: 16px;
        background: #ffcc00;
        color: #333;
        width: 50px;
        height: 50px;
        border: none;
        border-radius: 50%;
        font-size: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
        transition: background-color 0.3s ease;
    }

    .toggle-dark-mode:hover {
        background: #e6b800;
    }

    /* القائمة الجانبية */
    .side-menu {
        position: fixed;
        top: 0;
        right: 0;
        width: 0;
        height: 100%;
        background: #282c34;
        overflow-x: hidden;
        transition: width 0.3s ease;
        color: white;
        padding-top: 60px;
    }

    .side-menu a {
        padding: 10px 20px;
        font-size: 20px;
        color: #ddd;
        text-decoration: none;
        display: block;
        transition: background 0.3s ease, color 0.3s ease;
    }

    .side-menu a:hover {
        background: #404552;
        color: #fff;
    }

    .side-menu .close-btn {
        position: absolute;
        top: 20px;
        right: 25px;
        font-size: 24px;
        color: white;
        cursor: pointer;
    }

    /* مربع المعلومات */
    .info-box {
        position: fixed;
        top: 5px;
        left: 2px;
        background: #0066cc;
        color: white;
        border-radius: 10px;
        padding: 4px 2px;
        font-size: 12px;
        box-shadow: 0 15px 10px rgba(0, 0, 0, 0.15);
        transition: opacity 0.3s ease, transform 0.3s ease;
        opacity: 0;
        transform: translateY(15px);
        width: 500px;
    }

    .info-box.visible {
        opacity: 9;
        transform: translateY(0);
    }

    /* إطار iframe */
    .iframe-container {
        border-style: none;
        border-color: inherit;
        border-width: medium;
        width: 100%;
        height: 1065px;
        margin-top: 20px;
    }

    /* الأزرار الفرعية */
    .sub-menu {
        display: none;
        padding-right: 20px;
        font-size: 18px;
    }

    .sub-menu a {
        color: #ddd;
        padding: 5px 20px;
    }

    .sub-menu a:hover {
        background: #50586c;
    }

    #userRole {
        font-weight: 700;
    }

    /* تحريك زر الوضع الداكن */
    .toggle-dark-mode.active {
        background-color: #e6b800;
        transform: scale(1.1);
    }

    /* تنسيق الزر بشكل واضح */
    .toggle-dark-mode:focus {
        outline: none;
    }
</style>


</head>

<body>
    <!-- رأس الصفحة -->
    <header>
        مرحباً بك في شركة شمال القاهرة لتوزيع الكهرباء ⚡
    </header>

    <!-- زر القائمة -->
    <button class="menu-btn" onclick="openMenu()">&nbsp;☰ القائمة الرئيسية</button>

    <!-- القائمة الجانبية -->
    <div id="sideMenu" class="side-menu">
        <a href="javascript:void(0)" class="close-btn" onclick="closeMenu()">&times;</a>
        <a href="javascript:void(0)" onclick="location.reload()">الرئيسية</a>
        <div>
            <a href="javascript:void(0)" onclick="toggleSubMenu('aboutSubMenu')">🔻ادارة المستخدمين</a>
            <div id="aboutSubMenu" class="sub-menu">
                
                <a href="javascript:void(0)" onclick="loadPage('Change Password.htm')">تغيير كلمة المرور</a>
            </div>
        </div>
        <div>
            <a href="javascript:void(0)" onclick="toggleSubMenu('servicesSubMenu')">🔻الخدمات</a>
            <div id="servicesSubMenu" class="sub-menu">
                <a href="javascript:void(0)" onclick="loadPage('نموذج إستعلام بيان فحص عداد احادي الوجة.htm')">شاشة إستعلام بيان فحص عداد احادي الوجة</a>
               
            </div>
        </div>
       <a href="javascript:void(0)" onclick="loadPage('Technical Support.htm')">اتصل بنا</a>
    </div>

    <!-- مربع المعلومات -->
    <div class="info-box" id="infoBox">
        <h2 id="fullName" class="style2"><strong style="font-size: small">...</strong></h2>
        <p id="userRole" class="style2">...</p>
        <!-- زر تغيير وضع الدارك مود بجوار مربع المعلومات -->
        <button class="style3" onclick="toggleDarkMode()">🌗</button>
    </div>

    <!-- إطار iframe لعرض الصفحات الأخرى -->
     <iframe id="contentFrame" class="iframe-container"></iframe>

    <script>
        // فتح القائمة
        function openMenu() {
            document.getElementById("sideMenu").style.width = "250px";
        }

        // إغلاق القائمة
        function closeMenu() {
            document.getElementById("sideMenu").style.width = "0";
        }

        // وظيفة لتفعيل وتعطيل الوضع الداكن
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode'); // تبديل فئة الدارك مود
            
            // حفظ حالة الوضع في localStorage
            if (document.body.classList.contains('dark-mode')) {
                localStorage.setItem('darkMode', 'enabled');
            } else {
                localStorage.setItem('darkMode', 'disabled');
            }
        }

        // استرجاع حالة الوضع الداكن عند تحميل الصفحة
        window.onload = function() {
            const currentUser = JSON.parse(sessionStorage.getItem('currentUser'));
            const darkModeStatus = localStorage.getItem('darkMode');

            // تفعيل الوضع الداكن إذا كانت الحالة محفوظة
            if (darkModeStatus === 'enabled') {
                document.body.classList.add('dark-mode'); // تفعيل الوضع الداكن
            }

            // عرض معلومات المستخدم إذا كانت موجودة
            if (currentUser) {
                document.getElementById('fullName').textContent = `الاسم الكامل: ${currentUser.fullName}`;
                document.getElementById('userRole').textContent = `الصلاحية: ${getRoleName(currentUser.role)}`;
                document.getElementById('infoBox').classList.add('visible'); // إضافة تأثير الظهور
            } else {
                document.getElementById('fullName').textContent = 'لم يتم تسجيل الدخول';
                document.getElementById('userRole').textContent = '';
                document.getElementById('infoBox').classList.add('visible'); // إضافة تأثير الظهور
            }
        };

        // استرجاع اسم الصلاحية باللغة العربية
        function getRoleName(role) {
            switch (role) {
                case 'admin':
                    return 'المدير العام';
                case 'account_manager':
                    return 'إدارة الحسابات';
                case 'issue_manager':
                    return 'إدارة الإصدار';
                case 'general_manager_followup':
                    return 'متابعة المدير العام';
                case 'revenue_review':
                    return 'مراجعة الإيرادات';
                default:
                    return 'غير معروف';
            }
        }

         // وظيفة لفتح الصفحات داخل الـ iframe
        function loadPage(pageUrl) {
            document.getElementById('contentFrame').src = pageUrl;
            closeMenu(); // إغلاق القائمة بعد تحميل الصفحة
        }

        // وظيفة لتبديل الأزرار الفرعية
        function toggleSubMenu(menuId) {
            const subMenu = document.getElementById(menuId);
            subMenu.style.display = subMenu.style.display === "block" ? "none" : "block"; // تغيير حالة العرض
        }
    </script>
    <span class="style4"><strong>جميع الحقوق محفوظة-HASSAN</strong></span>
</body>
</html>
